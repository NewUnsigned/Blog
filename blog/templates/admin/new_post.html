{% extends 'base.html' %}
{% from 'bootstrap/form.html' import render_form %}

{% block title %}
    New Post
{% endblock  %}

{% block content %}
    <div class="page-header">
            <h1>New Post</h1>
    </div>
    <!-- {{ render_form(form) }} -->
    <form method="post">
        {{ form.csrf_token }}
        <div>
            {{ form.title.label }}
            {{ form.title(class='form-control', required='true') }}
        </div>
        <div>
            {{ form.category.label }}
            {{ form.category(class='form-control', required='true') }}
        </div>
        <div>
            {{ form.body.label }}
        </div>
        <div id="fancy-editormd" class="editormd">
            {{ form.body(style="display:none;") }}
        </div>
        {{ form.submit }}
    </form>
{% endblock  %}
<!-- title = StringField('Title', validators=[DataRequired(), Length(1, 60)])
category = SelectField('Category', coerce=int, default=1)
body = TextAreaField('Body', validators=[DataRequired()]) -->

{% block scripts %}
    <script src="{{ url_for('static',filename='editormd/examples/js/jquery.min.js') }}"></script>
    <script src="{{ url_for('static',filename='editormd/editormd.min.js') }}"></script>
    <script type="text/javascript">
        $(function () {
            editormd("fancy-editormd", {
                // width: "100%", 请不要添加
                height: 640,
                syncScrolling: "single",
                path: "{{ url_for('static',filename='editormd/lib/') }}",
                saveHTMLToTextarea : true
            });
        });
    </script>
    {{ super() }}
    <!-- <script type="text/javascript" src="{{ url_for('static', filename='ckeditor/ckeditor.js') }}"></script> -->
    <!-- {{ ckeditor.config(name='body') }} -->
{% endblock  %}